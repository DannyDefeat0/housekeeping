tag_conversion_dict = {'alfbr_dealr_local':'00-ALFBR-NA_PCH_InMarket__',	'alfbr_nodlr_ptsvc':'00-ALFBR-NA_RTN_Service__',	'alfbr_nodlr_rtntn':'00-ALFBR-NA_PCH_InMarket__',	'alfgi_nodlr_rtntn':'24-ALFBR-ALFGI-PCH_InMarket__',	'alfst_nodlr_rtntn':'24-ALFBR-ALFST-PCH_InMarket__',	'tnale_nodlr_cnqst':'24-ALFBR-TNALE-PCH_InMarket__',	'tnale_nodlr_rtntn':'24-ALFBR-TNALE-PCH_InMarket__',	'multi_dealr_local':'00-ALL-NA_PCH_InMarket__',	'multi_nodlr_local':'00-ALL-NA_PCH_InMarket__',	'multi_nodlr_ptsvc':'00-ALL-NA_RTN_Service__',	'multi_nodlr_rtntn':'00-ALL-NA_PCH_InMarket__',	'nobrd_nodlr_ptsvc':'00-ALL-NA_RTN_Service__',	'nobrd_nodlr_rtntn':'00-ALL-NA_PCH_InMarket__',	'nobrd_nodlr_sgmnt':'00-ALL-NA_PCH_InMarket__',	'nobrd_nodlr_video':'00-ALL-NA_PCH_InMarket__',	'chryb_dealr_local':'00-CHRYB-NA_PCH_InMarket__',	'chryb_dealr_ptsvc':'00-CHRYB-NA_RTN_Service__',	'chryb_dealr_rtntn':'00-CHRYB-NA_PCH_InMarket__',	'chryb_nodlr_ptsvc':'00-CHRYB-NA_RTN_Service__',	'chryb_nodlr_rtntn':'00-CHRYB-NA_PCH_InMarket__',	'chryb_nodlr_sgmnt':'00-CHRYB-NA_PCH_InMarket__',	'ch300_nodlr_rtntn':'24-CHRYB-CH300-PCH_InMarket__',	'pacfa_nodlr_cnqst':'24-CHRYB-PACFA-PCH_InMarket__',	'pacfa_nodlr_rtntn':'24-CHRYB-PACFA-PCH_InMarket__',	'dodgb_dealr_local':'00-DODGB-NA_PCH_InMarket__',	'dodgb_dealr_ptsvc':'00-DODGB-NA_RTN_Service__',	'dodgb_dealr_rtntn':'00-DODGB-NA_PCH_InMarket__',	'dodgb_nodlr_ptsvc':'00-DODGB-NA_RTN_Service__',	'dodgb_nodlr_rtntn':'00-DODGB-NA_PCH_InMarket__',	'dodgb_nodlr_sgmnt':'00-DODGB-NA_PCH_InMarket__',	'chlgr_nodlr_rtntn':'24-DODGB-CHLGR-PCH_InMarket__',	'chrgr_nodlr_rtntn':'24-DODGB-CHRGR-PCH_InMarket__',	'drngo_nodlr_rtntn':'24-DODGB-DRNGO-PCH_InMarket__',	'grcvn_nodlr_rtntn':'24-DODGB-GRCVN-PCH_InMarket__',	'hrnet_nodlr_rtntn':'24-DODGB-HRNET-PCH_InMarket__',	'jurny_nodlr_rtntn':'24-DODGB-JURNY-PCH_InMarket__',	'fiatb_dealr_local':'00-FIATB-NA_PCH_InMarket__',	'fiatb_dealr_rtntn':'00-FIATB-NA_PCH_InMarket__',	'fiatb_nodlr_ptsvc':'00-FIATB-NA_RTN_Service__',	'fiatb_nodlr_rtntn':'00-FIATB-NA_PCH_InMarket__',	'ft50e_nodlr_rtntn':'24-FIATB-FT50E-PCH_InMarket__',	'ft50x_nodlr_rtntn':'24-FIATB-FT50X-PCH_InMarket__',	'jeepb_dealr_local':'00-JEEPB-NA_PCH_InMarket__',	'jeepb_dealr_ptsvc':'00-JEEPB-NA_RTN_Service__',	'jeepb_dealr_rtntn':'00-JEEPB-NA_PCH_InMarket__',	'jeepb_nodlr_ptsvc':'00-JEEPB-NA_RTN_Service__',	'jeepb_nodlr_rtntn':'00-JEEPB-NA_PCH_InMarket__',	'jeepb_nodlr_sgmnt':'00-JEEPB-NA_PCH_InMarket__',	'jeepb_nodlr_video':'00-JEEPB-NA_PCH_InMarket__',	'jprgd_nodlr_rtntn':'24-JEEPB-JPRGD-PCH_InMarket__',	'chrke_nodlr_rtntn':'24-JEEPB-CHRKE-PCH_InMarket__',	'comps_nodlr_rtntn':'24-JEEPB-COMPS-PCH_InMarket__',	'gchkl_nodlr_rtntn':'24-JEEPB-GCHKL-PCH_InMarket__',	'gldtr_nodlr_rtntn':'24-JEEPB-GLDTR-PCH_InMarket__',	'grchk_nodlr_rtntn':'24-JEEPB-GRCHK-PCH_InMarket__',	'wagnr_nodlr_rtntn':'24-JEEPB-WAGNR-PCH_InMarket__',	'wgnrg_nodlr_rtntn':'24-JEEPB-WGNRG-PCH_InMarket__',	'wragr_nodlr_rtntn':'24-JEEPB-WRAGR-PCH_InMarket__',	'wrgxe_nodlr_rtntn':'24-JEEPB-WRGXE-PCH_InMarket__',	'rambr_dealr_local':'00-RAMBR-NA_PCH_InMarket__',	'rambr_dealr_ptsvc':'00-RAMBR-NA_RTN_Service__',	'rambr_dealr_rtntn':'00-RAMBR-NA_PCH_InMarket__',	'rambr_nodlr_cmrcl':'00-RAMBR-NA_PCH_InMarket__',	'rambr_nodlr_ptsvc':'00-RAMBR-NA_RTN_Service__',	'rambr_nodlr_rtntn':'00-RAMBR-NA_PCH_InMarket__',	'rambr_nodlr_sgmnt':'00-RAMBR-NA_PCH_InMarket__',	'rambr_nodlr_video':'00-RAMBR-NA_PCH_InMarket__',	'chcab_nodlr_cmrcl':'24-RAMBR-CHCAB-PCH_InMarket__',	'chcab_nodlr_rtntn':'24-RAMBR-CHCAB-PCH_InMarket__',	'pmcit_nodlr_rtntn':'24-RAMBR-PMCIT-PCH_InMarket__',	'ram15_nodlr_cnqst':'24-RAMBR-RAM15-PCH_InMarket__',	'ram15_nodlr_rtntn':'24-RAMBR-RAM15-PCH_InMarket__',	'ram25_nodlr_cnqst':'24-RAMBR-RAM25-PCH_InMarket__',	'ram25_nodlr_rtntn':'24-RAMBR-RAM25-PCH_InMarket__',	'ram35_nodlr_cmrcl':'24-RAMBR-RAM35-PCH_InMarket__',	'ram35_nodlr_cnqst':'24-RAMBR-RAM35-PCH_InMarket__',	'ram35_nodlr_rtntn':'24-RAMBR-RAM35-PCH_InMarket__',	'rmc15_nodlr_cmrcl':'24-RAMBR-RMC15-PCH_InMarket__',	'rmc15_nodlr_rtntn':'24-RAMBR-RMC15-PCH_InMarket__',	'rmc25_nodlr_cmrcl':'24-RAMBR-RMC25-PCH_InMarket__',	'rmc25_nodlr_rtntn':'24-RAMBR-RMC25-PCH_InMarket__',	'rmc35_nodlr_cmrcl':'24-RAMBR-RMC35-PCH_InMarket__'
}

example_ad_group = "jeepb_nodlr_rtntn_Terms - Jeep"
example_keyword_template = "{lpurl}?fca_mm=dealm&fca_campaign=dealershipterms_a&fca_digadprov=adpearance&fca_channel=search&fca_campaign_type=google&fca_agid=jeepb_nodlr_rtntn&fca_digadcid={campaignid}&fca_adid={creative}&fca_keyword={keyword}&adpdevice={device}&adpprov=1"
example_facebook = "utm_source=facebook&utm_medium=cpc&utm_campaign=adpearance-new-dynamic-broad-traffic-a&fca_campaign=broad_a&fca_digadprov=adpearance&fca_channel=social&fca_campaign_type=facebook&fca_id=nobrd_nodlr_rtntn&fca_digadcid={{campaign.id}}&fca_adid={{ad.id}}&campaign_id={{campaign.id}}&adset_id={{adset.id}}&ad_id={{ad.id}}&adpprov=1&fca_program=tier3"

def adGroupNameChanger(adgroup):
    old_tag = adgroup[:17]
    new_tag = tag_conversion_dict[old_tag]
    return adgroup.replace(old_tag+"_",new_tag)

print(adGroupNameChanger(example_ad_group))

def keywordTemplateUpdater(template):
    substring = "fca_agid="
    fca_agid_index = template.find(substring)
    old_fca_agid = template[fca_agid_index + len(substring): fca_agid_index + len(substring) + 17]
    new_parameters = tag_conversion_dict[old_fca_agid].replace("__","")
    return template.replace(substring+old_fca_agid,"fca_program=tier3&fca_adgroup="+new_parameters)


print(keywordTemplateUpdater(example_keyword_template))
